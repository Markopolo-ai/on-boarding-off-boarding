{"ast":null,"code":"module.exports = addHook;\n\nfunction addHook(state, kind, name, hook) {\n  var orig = hook;\n\n  if (!state.registry[name]) {\n    state.registry[name] = [];\n  }\n\n  if (kind === \"before\") {\n    hook = function (method, options) {\n      return Promise.resolve().then(orig.bind(null, options)).then(method.bind(null, options));\n    };\n  }\n\n  if (kind === \"after\") {\n    hook = function (method, options) {\n      var result;\n      return Promise.resolve().then(method.bind(null, options)).then(function (result_) {\n        result = result_;\n        return orig(result, options);\n      }).then(function () {\n        return result;\n      });\n    };\n  }\n\n  if (kind === \"error\") {\n    hook = function (method, options) {\n      return Promise.resolve().then(method.bind(null, options)).catch(function (error) {\n        return orig(error, options);\n      });\n    };\n  }\n\n  state.registry[name].push({\n    hook: hook,\n    orig: orig\n  });\n}","map":{"version":3,"sources":["E:/Workspace/on-boarding-off-boarding/Organization Manager/node_modules/before-after-hook/lib/add.js"],"names":["module","exports","addHook","state","kind","name","hook","orig","registry","method","options","Promise","resolve","then","bind","result","result_","catch","error","push"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,OAAjB;;AAEA,SAASA,OAAT,CAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C;AACxC,MAAIC,IAAI,GAAGD,IAAX;;AACA,MAAI,CAACH,KAAK,CAACK,QAAN,CAAeH,IAAf,CAAL,EAA2B;AACzBF,IAAAA,KAAK,CAACK,QAAN,CAAeH,IAAf,IAAuB,EAAvB;AACD;;AAED,MAAID,IAAI,KAAK,QAAb,EAAuB;AACrBE,IAAAA,IAAI,GAAG,UAAUG,MAAV,EAAkBC,OAAlB,EAA2B;AAChC,aAAOC,OAAO,CAACC,OAAR,GACJC,IADI,CACCN,IAAI,CAACO,IAAL,CAAU,IAAV,EAAgBJ,OAAhB,CADD,EAEJG,IAFI,CAECJ,MAAM,CAACK,IAAP,CAAY,IAAZ,EAAkBJ,OAAlB,CAFD,CAAP;AAGD,KAJD;AAKD;;AAED,MAAIN,IAAI,KAAK,OAAb,EAAsB;AACpBE,IAAAA,IAAI,GAAG,UAAUG,MAAV,EAAkBC,OAAlB,EAA2B;AAChC,UAAIK,MAAJ;AACA,aAAOJ,OAAO,CAACC,OAAR,GACJC,IADI,CACCJ,MAAM,CAACK,IAAP,CAAY,IAAZ,EAAkBJ,OAAlB,CADD,EAEJG,IAFI,CAEC,UAAUG,OAAV,EAAmB;AACvBD,QAAAA,MAAM,GAAGC,OAAT;AACA,eAAOT,IAAI,CAACQ,MAAD,EAASL,OAAT,CAAX;AACD,OALI,EAMJG,IANI,CAMC,YAAY;AAChB,eAAOE,MAAP;AACD,OARI,CAAP;AASD,KAXD;AAYD;;AAED,MAAIX,IAAI,KAAK,OAAb,EAAsB;AACpBE,IAAAA,IAAI,GAAG,UAAUG,MAAV,EAAkBC,OAAlB,EAA2B;AAChC,aAAOC,OAAO,CAACC,OAAR,GACJC,IADI,CACCJ,MAAM,CAACK,IAAP,CAAY,IAAZ,EAAkBJ,OAAlB,CADD,EAEJO,KAFI,CAEE,UAAUC,KAAV,EAAiB;AACtB,eAAOX,IAAI,CAACW,KAAD,EAAQR,OAAR,CAAX;AACD,OAJI,CAAP;AAKD,KAND;AAOD;;AAEDP,EAAAA,KAAK,CAACK,QAAN,CAAeH,IAAf,EAAqBc,IAArB,CAA0B;AACxBb,IAAAA,IAAI,EAAEA,IADkB;AAExBC,IAAAA,IAAI,EAAEA;AAFkB,GAA1B;AAID","sourcesContent":["module.exports = addHook;\n\nfunction addHook(state, kind, name, hook) {\n  var orig = hook;\n  if (!state.registry[name]) {\n    state.registry[name] = [];\n  }\n\n  if (kind === \"before\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(orig.bind(null, options))\n        .then(method.bind(null, options));\n    };\n  }\n\n  if (kind === \"after\") {\n    hook = function (method, options) {\n      var result;\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .then(function (result_) {\n          result = result_;\n          return orig(result, options);\n        })\n        .then(function () {\n          return result;\n        });\n    };\n  }\n\n  if (kind === \"error\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .catch(function (error) {\n          return orig(error, options);\n        });\n    };\n  }\n\n  state.registry[name].push({\n    hook: hook,\n    orig: orig,\n  });\n}\n"]},"metadata":{},"sourceType":"script"}